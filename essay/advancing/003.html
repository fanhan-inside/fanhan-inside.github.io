<!doctype html>
<html>

<head>
    <meta lang="zh" charset="UTF-8">
    <title>流程图测试：网文「打斗套路」总结</title>
    <link rel="stylesheet" type="text/css" href="advancing.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs2015.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <style type="text/css">
        ol,
        ul,
        li {
            line-height: 1.5rem;
            margin: 0 auto;
            padding: 0 auto;
        }
    </style>
</head>

<body>
    <nav>
        <ul class="nav">
            <li><a href="002.html">上一篇</a></li>
            <li><a href="../toc.html">目录</a></li>
            <li><a href="004.html">下一篇</a></li>
        </ul>
        <ul class="aside">
            <li><a href="../../index.html">主页</a></li>
        </ul>
    </nav>
    <header>
        <h1>流程图测试：网文「打斗套路」总结</h1>
    </header>
    <main>
        <p>前一阵在龙空看到「史上最全打斗套路」，「思维导图」版的图片存了下来，但帖子找不到了。</p>
        <p>下面以此为例，测试在流程图插件协助下，运用Markdown格式进行「码字工程」实践。</p>
        <p>尽量遵守原作者的「思路」，对细节仅限于「技术上」的调整，不加入自己的判断。</p>

        <h2><span class="heading">透过现象看本质，把「思维导图」转换成「树状列表」</span></h2>
        <p>以下内容全部来自「原版」，连错别字和标点符号都原封不动抄下来。</p>
        <blockquote class="treeview">
            <ol>
                <li>前期铺垫
                    <ol>
                        <li>谁邀战，为什么</li>
                        <li>对手有什么厉害之处</li>
                        <li>对手有什么令人讨厌之处</li>
                        <li>其他人对这一战的看法和反应，风凉话</li>
                        <li>主角发怒了吗</li>
                        <li>采取什么策略
                            <ol>
                                <li>隐藏实力</li>
                                <li>秒杀</li>
                                <li>力敌</li>
                                <li>智取</li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li>营造气氛
                    <ol>
                        <li>天气如何</li>
                        <li>景物如何</li>
                        <li>压抑</li>
                        <li>风雨欲来</li>
                        <li>万众瞩目</li>
                    </ol>
                </li>
                <li>主角登场
                    <ol>
                        <li>登场前亲友团怎么说</li>
                        <li>旁观者怎么说</li>
                        <li>主角以怎样的姿态登场</li>
                        <li>别人对他的登场什么反应</li>
                        <li>长辈的反应</li>
                        <li>对手亲友团的反应</li>
                        <li>主角亲友团的反应</li>
                        <li>登场之后，对手在做什么
                            <ol>
                                <li>是否有挑衅</li>
                                <li>是否有蔑视</li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li>对手登场
                    <ol>
                        <li>登场前对手亲友团说什么</li>
                        <li>主角亲友团说什么</li>
                        <li>对手以怎样状态登场</li>
                        <li>别人对它们的登场是什么反应</li>
                        <li>长辈的反应</li>
                        <li>对手亲友团的反应</li>
                        <li>主角亲友团的反应</li>
                        <li>比武沸腾了？</li>
                        <li>登场之后的气氛如何？</li>
                    </ol>
                </li>
                <li>裁判出场
                    <ol>
                        <li>谁是裁判</li>
                        <li>规则是什么
                            <ol>
                                <li>可以杀人么</li>
                                <li>有什么限制</li>
                                <li>有什么空子</li>
                            </ol>
                        </li>
                        <li>比武开始</li>
                        <li>是否有固定礼仪</li>
                        <li>是否有挑衅</li>
                    </ol>
                </li>
                <li>众人对结果的预判
                    <ol>
                        <li>亲友团看法</li>
                        <li>高层看法</li>
                        <li>谁看好？为什么</li>
                        <li>各自的长辈怎么看</li>
                        <li>最大的boss怎么看</li>
                    </ol>
                </li>
                <li>对手的情况
                    <ol>
                        <li>对手对主角的态度
                            <ol>
                                <li>完全不了解
                                    <ul>
                                        <li>轻视、蔑视、自信爆棚？</li>
                                    </ul>
                                </li>
                                <li>相对了解
                                    <ol>
                                        <li>重视、算计、担忧</li>
                                        <li>拼死也要杀主角</li>
                                        <li>不愿意拼命/退缩</li>
                                    </ol>
                                </li>

                            </ol>
                        </li>
                        <li>对手的实力
                            <ol>
                                <li>不堪一击</li>
                                <li>势均力敌</li>
                                <li>有木有压箱底的绝招</li>
                                <li>有木有保命的法宝</li>
                            </ol>
                        </li>
                        <li>对手的性格和背景
                            <ol>
                                <li>龙套or反派</li>
                                <li>与主角的矛盾</li>
                                <li>是否不死不休、冤魂不散、化敌为友</li>
                                <li>来头很大，背后有什么人</li>
                                <li>斩杀的后果</li>
                                <li>留命的好处</li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li>打斗过程
                    <ol>
                        <li>比武开始前
                            <ol>
                                <li>是否对话</li>
                                <li>对手说了什么：矛盾、挑衅、大话</li>
                                <li>主角说什么或不说</li>
                            </ol>
                        </li>
                        <li>谁先动手
                            <ol>
                                <li>对手雷声大雨点小－被秒杀</li>
                                <li>对手强，惨胜</li>
                                <li>对手弱，主角扮猪</li>
                                <li>对手有反扑一下，主角艰难胜</li>
                                <li>势均力敌
                                    <ol>
                                        <li>拉锯战</li>
                                        <li>长辈出手</li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li>打斗时的场外
                    <ol>
                        <li>各自亲友团看法
                            <ol>
                                <li>令其意外，重新审视</li>
                                <li>继续坚持原来的看法，但兴奋、高兴</li>
                                <li>改编看法，态度改变</li>
                            </ol>
                        </li>
                        <li>长辈看法
                            <ol>
                                <li>维持原判断</li>
                                <li>讨论双方招式
                                    <ul>
                                        <li>从招式中看出什么</li>
                                    </ul>
                                </li>
                                <li>有什么感叹</li>
                                <li>打算和计划</li>
                            </ol>
                        </li>
                        <li>主角怎么看
                            <ol>
                                <li>意外</li>
                                <li>改变策略</li>
                            </ol>
                        </li>
                        <li>对手怎么看
                            <ol>
                                <li>意外、震惊、骇然</li>
                                <li>要不要出大招</li>
                                <li>心理</li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li>打斗之后
                    <ol>
                        <li>亲友团反应
                            <ol>
                                <li>吸凉气</li>
                                <li>咽口水</li>
                                <li>不可能，不相信</li>
                                <li>向别人炫耀，自己认识主角，早就知道……</li>
                                <li>喜极而泣</li>
                            </ol>
                        </li>
                        <li>高手长辈反应
                            <ol>
                                <li>极为震惊</li>
                                <li>意料之外，惊讶、疑惑</li>
                                <li>意料之中，几个喜几个愁</li>
                                <li>另眼相看、有想法、有打算</li>
                            </ol>
                        </li>
                        <li>对手的反应
                            <ol>
                                <li>倍受打击</li>
                                <li>一蹶不振</li>
                                <li>不相信、不甘心、使阴招</li>
                                <li>心服口服</li>
                                <li>接受事实、努力修炼、回头再战</li>
                            </ol>
                        </li>
                        <li>主角的行为
                            <ol>
                                <li>赢了以后继续打击、警告</li>
                                <li>赢后离开</li>
                                <li>高兴并意外</li>
                                <li>意料之中，古井不波</li>
                            </ol>
                        </li>
                        <li>胜利的收获
                            <ol>
                                <li>战斗经验</li>
                                <li>奖励：法宝、女人、声誉、资格</li>
                                <li>等级突破</li>
                            </ol>
                        </li>
                        <li>胜利后路症
                            <ol>
                                <li>引来更强的对手</li>
                                <li>被人猜忌，提防</li>
                                <li>被对手长辈打压，追杀</li>
                            </ol>
                        </li>
                    </ol>
                </li>
            </ol>
        </blockquote>

        <p>然后从「不入流码农」的角度审视一遍，除了存在「同义反复」（如10.1的「吸凉气」「咽口水」都是一个意思）之外，还混淆了顺序、分支、循环三种结构。这就是实质为「树状列表」的「思维导图」的弱点，再怎么高大上的名词也回避不了数据结构的本质缺陷。</p>

        <h2><span class="heading">自底向上划分模块，调整细节，形成若干流程图</span></h2>
        <p>在这个过程中，要注意按照「角色」划分模块，这也是为了将来「时序图」做准备，可以用「文艺理论」修饰为「视角」，但未必采用「POV」。也就是说，按照「原版」思路，「流程」始终以主角视角「执行」，其中偶尔插入其它视角作为「子程序」。而「作者」也是一种视角，用来体现「旁白」等描写，用「输入输出」指代。</p>

        <h3><span class="heading">前期铺垫</span></h3>
        <pre class="code">开始=&gt;start: 开始
结束=&gt;end: 结束
｛对手｝=&gt;subroutine: ｛对手｝
谁邀战，为什么
厉害之处
令人讨厌之处
｛其他人｝=&gt;subroutine: ｛其他人｝
看法
反应
风凉话
condAngry=&gt;condition: 主角发怒了吗？
闷声发大财=&gt;operation: 「闷声发大财」
アイムアングリっぽい=&gt;operation: 「I&#39;m Angry!」
主角决定策略=&gt;operation: ｛主角｝
决定策略：
隐藏实力
秒杀
力敌
智取

开始(right)-&gt;｛对手｝(right)-&gt;｛其他人｝-&gt;condAngry
condAngry(yes,right)-&gt;アイムアングリっぽい-&gt;主角决定策略-&gt;结束
condAngry(no)-&gt;闷声发大财-&gt;主角决定策略-&gt;结束
</pre>
        <figure>
            <img src="image/003-001.svg">
            <figcaption><span class="figcaption">前期铺垫</span></figcaption>
        </figure>

        <h3><span class="heading">营造气氛</span></h3>
        <pre class="code">开始=&gt;start: 开始
结束=&gt;end: 结束
天气=&gt;inputoutput: 天气如何
景物=&gt;inputoutput: 景物如何
压抑=&gt;inputoutput: 压抑
风雨欲来=&gt;inputoutput: 风雨欲来
万众瞩目=&gt;inputoutput: 万众瞩目

开始-&gt;天气(right)-&gt;景物(right)-&gt;压抑(right)-&gt;风雨欲来(right)-&gt;万众瞩目-&gt;结束
</pre>
        <figure>
            <img src="image/003-002.svg">
            <figcaption><span class="figcaption">营造气氛</span></figcaption>
        </figure>

        <h3><span class="heading">主角登场</span></h3>
        <pre class="code">开始=&gt;start: 开始
结束=&gt;end: 结束
｛主角亲友团｝1=&gt;subroutine: ｛主角亲友团｝
怎么说
｛旁观者｝=&gt;subroutine: ｛旁观者｝
怎么说
｛长辈｝=&gt;subroutine: ｛长辈｝
什么反应
｛对手亲友团｝=&gt;subroutine: ｛对手亲友团｝
什么反应
｛主角亲友团｝2=&gt;subroutine: ｛主角亲友团｝
什么反应
主角登场=&gt;operation: ｛主角｝登场：什么姿态
观察对手=&gt;operation: ｛主角｝观察：
｛对手｝在做什么
cond挑衅=&gt;condition: 对手是否挑衅？
cond蔑视=&gt;condition: 对手是否蔑视？

开始(right)-&gt;｛主角亲友团｝1-&gt;｛旁观者｝-&gt;主角登场-&gt;｛长辈｝-&gt;｛对手亲友团｝-&gt;｛主角亲友团｝2-&gt;观察对手-&gt;cond挑衅
cond挑衅(yes)-&gt;cond蔑视
cond挑衅(no)-&gt;cond蔑视
cond蔑视(yes)-&gt;结束
cond蔑视(no)-&gt;结束
</pre>
        <figure>
            <img src="image/003-003.svg">
            <figcaption><span class="figcaption">主角登场</span></figcaption>
        </figure>

        <h3><span class="heading">对手登场</span></h3>
        <pre class="code">开始=&gt;start: 开始
结束=&gt;end: 结束

｛对手亲友团｝1=&gt;subroutine: ｛对手亲友团｝说什么
｛主角亲友团｝1=&gt;subroutine: ｛主角亲友团｝说什么
对手登场=&gt;inputoutput: ｛对手｝登场：怎样状态
｛别人｝=&gt;subroutine: ｛别人｝什么反应
｛长辈｝=&gt;subroutine: ｛长辈｝什么反应
｛对手亲友团｝2=&gt;subroutine: ｛对手亲友团｝什么反应
｛主角亲友团｝2=&gt;subroutine: ｛主角亲友团｝什么反应
cond沸腾=&gt;condition: 比武沸腾了？
气氛=&gt;inputoutput: 登场后气氛

开始(right)-&gt;｛对手亲友团｝1-&gt;｛主角亲友团｝1-&gt;对手登场-&gt;｛别人｝-&gt;｛长辈｝-&gt;｛对手亲友团｝2-&gt;｛主角亲友团｝2-&gt;cond沸腾
cond沸腾(yes)-&gt;气氛(right)-&gt;结束
cond沸腾(no)-&gt;气氛(right)-&gt;结束
</pre>
        <figure>
            <img src="image/003-004.svg">
            <figcaption><span class="figcaption">对手登场</span></figcaption>
        </figure>

        <h3><span class="heading">裁判出场</span></h3>
        <pre class="code">开始=&gt;start: 开始
结束=&gt;end: 结束

描写裁判=&gt;inputoutput: ｛裁判｝是谁
介绍规则=&gt;inputoutput: 规则是什么
可以杀人么
有什么限制
有什么空子
比武开始=&gt;operation: 比武开始
cond礼仪=&gt;condition: 是否有固定礼仪？
cond挑衅=&gt;condition: 是否有挑衅？

开始(right)-&gt;描写裁判-&gt;介绍规则-&gt;比武开始-&gt;cond礼仪
cond礼仪(yes)-&gt;cond挑衅
cond礼仪(no)-&gt;cond挑衅
cond挑衅(yes)-&gt;结束
cond挑衅(no)-&gt;结束
</pre>
        <figure>
            <img src="image/003-005.svg">
            <figcaption><span class="figcaption">裁判出场</span></figcaption>
        </figure>

        <h3><span class="heading">众人对结果的预判</span></h3>
        <pre class="code">开始=&gt;start: 开始
结束=&gt;end: 结束

｛亲友团｝=&gt;subroutine: ｛亲友团｝
看法
｛高层｝=&gt;subroutine: ｛高层｝
看法
｛观众｝=&gt;subroutine: ｛观众｝
谁看好？为什么
｛长辈｝=&gt;subroutine: ｛长辈｝
各自的长辈怎么看
｛反派｝=&gt;subroutine: ｛反派｝
最大的boss怎么看

开始(right)-&gt;｛亲友团｝(right)-&gt;｛高层｝(right)-&gt;｛观众｝-&gt;｛长辈｝-&gt;｛反派｝-&gt;结束
</pre>
        <figure>
            <img src="image/003-006.svg">
            <figcaption><span class="figcaption">众人对结果的预判</span></figcaption>
        </figure>

        <h3><span class="heading">对手的情况</span></h3>
        <pre class="code">开始=&gt;start: 开始
结束=&gt;end: 结束

cond了解=&gt;condition: 对手了解主角么？
对手不了解主角=&gt;inputoutput: ｛对手｝
轻视、蔑视、自信爆棚？
对手相对了解主角=&gt;inputoutput: ｛对手｝
重视、算计、担忧
拼死也要杀主角
不愿意拼命/退缩
对手实力=&gt;subroutine: ｛对手｝实力：
不堪一击or势均力敌
有木有压箱底的绝招
有木有保命的法宝
对手性格和背景=&gt;subroutine: ｛对手｝性格和背景：
龙套or反派
与主角的矛盾
是否不死不休、冤魂不散、化敌为友
来头很大，背后有什么人
斩杀的后果，留命的好处

开始(right)-&gt;cond了解
cond了解(yes,right)-&gt;对手相对了解主角-&gt;对手实力
cond了解(no)-&gt;对手不了解主角-&gt;对手实力
对手实力-&gt;对手性格和背景(right)-&gt;结束
</pre>
        <figure>
            <img src="image/003-007.svg">
            <figcaption><span class="figcaption">对手的情况</span></figcaption>
        </figure>

        <h3><span class="heading">打斗过程</span></h3>
        <pre class="code">开始=&gt;start: 开始
结束=&gt;end: 结束
cond对话=&gt;condition: 是否对话？
对手言论=&gt;operation: ｛对手｝
说了什么：
矛盾、挑衅、大话
主角言论=&gt;operation: ｛主角｝
说什么或不说
cond谁先=&gt;condition: 谁先动手？
cond势均力敌=&gt;condition: 势均力敌？
cond拉锯战=&gt;condition: 拉锯战？
长辈出手=&gt;operation: ｛长辈｝
出手（终止比赛）
主角胜=&gt;operation: ｛主角｝
1. 对手雷声大雨点小－被秒杀
2. 对手强，惨胜
3. 对手弱，主角扮猪
4. 对手有反扑一下，主角艰难胜

开始(right)-&gt;cond对话
cond对话(yes)-&gt;对手言论-&gt;主角言论-&gt;cond谁先
cond对话(no)-&gt;cond谁先
cond谁先(yes)-&gt;cond势均力敌
cond谁先(no)-&gt;cond势均力敌
cond势均力敌(yes)-&gt;cond拉锯战
cond势均力敌(no)-&gt;主角胜-&gt;结束
cond拉锯战(yes)-&gt;长辈出手-&gt;结束
cond拉锯战(no)-&gt;结束
</pre>
        <figure>
            <img src="image/003-008.svg">
            <figcaption><span class="figcaption">打斗过程</span></figcaption>
        </figure>

        <h3><span class="heading">打斗时的场外</span></h3>
        <pre class="code">开始=&gt;start: 开始
结束=&gt;end: 结束

｛亲友团｝=&gt;subroutine: ｛亲友团｝看法：
   1. 令其意外，重新审视
   2. 继续坚持原来的看法，但兴奋、高兴
   3. 改编看法，态度改变
｛长辈｝=&gt;subroutine: ｛长辈｝看法：
   1. 维持原判断
   2. 讨论双方招式
      - 从招式中看出什么
   3. 有什么感叹
   4. 打算和计划
｛主角｝=&gt;operation: ｛主角｝怎么看：
   1. 意外
   2. 改变策略
｛对手｝=&gt;subroutine: ｛对手｝怎么看：
   1. 意外、震惊、骇然
   2. 要不要出大招
   3. 心理

开始-&gt;｛亲友团｝(right)-&gt;｛长辈｝(right)-&gt;｛主角｝(right)-&gt;｛对手｝-&gt;结束
</pre>
        <figure>
            <img src="image/003-009.svg">
            <figcaption><span class="figcaption">打斗时的场外</span></figcaption>
        </figure>

        <h3><span class="heading">打斗之后</span></h3>
        <pre class="code">开始=&gt;start: 开始
结束=&gt;end: 结束
｛亲友团｝=&gt;subroutine: ｛亲友团｝反应：
   1. 吸凉气
   2. 咽口水
   3. 不可能，不相信
   4. 向别人炫耀，自己认识主角，早就知道……
   5. 喜极而泣
｛高手长辈｝=&gt;subroutine: ｛高手长辈｝反应：
   1. 极为震惊
   2. 意料之外，惊讶、疑惑
   3. 意料之中，几个喜几个愁
   4. 另眼相看、有想法、有打算
｛对手｝=&gt;subroutine: ｛对手｝反应：
   1. 倍受打击
   2. 一蹶不振
   3. 不相信、不甘心、使阴招
   4. 心服口服
   5. 接受事实、努力修炼、回头再战
｛主角｝=&gt;operation: ｛主角｝表现：
   1. 赢了以后继续打击、警告
   2. 赢后离开
   3. 高兴并意外
   4. 意料之中，古井不波
｛作者｝1=&gt;inputoutput: 胜利的收获：
   1. 战斗经验
   2. 奖励：法宝、女人、声誉、资格
   3. 等级突破
｛作者｝2=&gt;inputoutput: 胜利后遗症：
   1. 引来更强的对手
   2. 被人猜忌，提防
   3. 被对手长辈打压，追杀

开始-&gt;｛亲友团｝(right)-&gt;｛高手长辈｝(right)-&gt;｛对手｝-&gt;｛主角｝-&gt;｛作者｝1-&gt;｛作者｝2-&gt;结束
</pre>
        <figure>
            <img src="image/003-010.svg">
            <figcaption><span class="figcaption">打斗之后</span></figcaption>
        </figure>

        <h2><span class="heading">整理告一段落之后的总结与感想</span></h2>

        <p>1，流程图使用「flowchart.js」实现，目前是Typora的内置功能，而VS Code当中没找到相关插件。</p>
        <p>2，用Mermaid画流程图也可以，但是不如专用流程图插件的表现更规范，比如这些标准节点的形状。并且目前的Mermaid插件似乎有点问题，节点的文本有长度限制或不支持Unicode，经常渲染失败。</p>
        <p>3，FlowChart的缺点，是「分支」结构只有「Yes/No」一种，没有多分支的选项（或者我没找到），于是在「打斗过程」那一节当中，出现了对手实力不同的多种情况，就难以表现，只能大而化之划拉为一个模块留给写手自行处理。</p>
        <p>4，按照原版思路，每个「是否」型节点后面都没有提供相关处理，需要酌情补充。比方说「前期铺垫」一节中「主角发怒了吗」节点后面，我就追加了两段处理：「<b>闷声发大财</b>」和「<b lang="ja">アイムアングリっぽい</b>」。</p>
        <p>5，注意上面「画蛇添足」并非什么「恶趣味」，因为实验发现流程图节点命名支持汉字，所以照抄「原版」提纲内容即可，不必非得绞尽脑汁译作英语或用拼音。但是对于半角字符带空格的「<b lang="en">I&rsquo;m Angry!</b>」这种就不能照抄了，正好顺便实验其它Unicode字符，用片假名拼写再加个流行平假名词尾，娱乐至死的逗哔们看上去会比较亲切吧？</p>

        <h2><span class="heading">下一步的计划和建议</span></h2>
        <p>1，因为尽量遵守「原版」思路，发现了以「代码」视角观察的不规范和不符合逻辑之处。但是同时也必须指出，「思维导图」侧重点就是储存脑洞，没必要太严格，如果时时刻刻按照写代码的要求处理流程，内容会死板许多，限制会大得多。</p>
        <p>2，流程图仅仅体现了时间线的顺序，不见得是文字表现的顺序，倒叙插叙等手法，在图中体现不出来。所以写手们也不用抱怨「码字工程」有利于硅基计算而不利于体现碳基智慧的荣耀。同时对于网文这种快餐文学而言，很多写手都知道尽量不要用倒叙插叙的原则，读者同时追十几本几十本书每天看一章，记不住前因后果，一旦感觉莫名其妙就下架了也。</p>
        <p>3，按理说接下来就该做「序列图」了，但是原版思路不适合这种表现形式，我又不想按照自己的思路修改。这里还是参考「写手咖啡」（<abbr class="software"><a target="_blank" href="http://www.writerscafe.co.uk"><span
                        lang="en">Writer&rsquo;s Café</span></a></abbr>）的「故事线」功能，那可是按照「专业作家」而不是「软件工程师」的需求提供的。于是不再以这篇「打斗套路」举例。</p>
        <br />

        <p><time>2018-04-12</time>补充：</p>
        <p>对于「支持扩展插件」的效果，可以参考在「作业部落」上传的内容：《<cite><a target="_blank" href="https://www.zybuluo.com/fanhan/note/1108897">（流程图测试）网文「打斗套路」总结</a></cite>》</p>
    </main>
    <footer>
        <p>发表于<time>2018-03-31</time></p>
        <p>更新于<time>2018-04-12</time></p>
        <p>范狂夫</p>
        <p>囧斋</p>
    </footer>
</body>

</html>