<!doctype html>
<html>

<head>
    <meta lang="zh" charset="UTF-8">
    <title>三自运动插曲：嗟叹之不足故咏歌之</title>
    <link rel="stylesheet" type="text/css" href="advancing.css" />
    <style type="text/css">
        #sotsugyo {
            width: 80%;
            column-count: 2;
        }
    </style>
</head>

<body>
    <img class="logo" src="../../IMG/advancing_heading.svg" />
    <nav>
        <ul class="nav">
            <li><a href="017.html">前一篇</a></li>
            <li><a href="../toc.html">目录</a></li>
            <li><a href="019.html">后一篇</a></li>
        </ul>
        <ul class="aside">
            <li><a href="../../index.html">主页</a></li>
        </ul>
    </nav>
    <header>
        <h1>三自运动插曲：嗟叹之不足故咏歌之</h1>
    </header>
    <main>
        <section>
            <h2 class="heading">释题</h2>

            <article>
                <p>「诗者，志之所之也，在心为志，发言为诗，情动于中而形于言。言之不足，故嗟叹之；嗟叹之不足，故咏歌之；咏歌之不足，不知手之舞之足之蹈之也。」</p>
                <p>——《毛诗序》</p>
            </article>

            <p>在那<span class="onum">2010</span>年初，龙空论坛放在「国际一流和谐宜居之都」的服务器被海洋出版社查封之后，活跃网友一片哀鸿遍野，各种避难所论坛林立，包括但不限于山东「鲁王」江苏「弘光」福建「隆武」广东「绍武」广西「永历」，还有流亡海外的「大和后裔国姓爷」，直到转进到<abbr class="where">之江临安</abbr>改称「后宋」以备份重建小朝廷并丢了<span class="onum">2009</span>年全年数据之后，才稳定下来。</p>
            <p>就在一片兵荒马乱之中，我在龙空就用上面引用的「中华民族传统文化经典片段」为标题发了个帖子，主楼贴了一个<samp>MTV</samp>视频《<a target="_blank" href="https://v.youku.com/v_show/id_XMTUxMTYwOTk2.html">SoulJa：卒業</a>》，歌词如下：</p>

            <article class="lyrics" id="sotsugyo">
                <p>昔遊んだあのブランコ コンビニ前待ち合わせの場所</p>
                <p>初めて告白した人 思い出詰まったあのグラウンド</p>
                <p>川辺に沿ってくあの道 思い出せば歩いてた毎日</p>
                <p>昔暑い日にした水遊び 夏休みの終わりの祭り花火</p>
                <br />
                <p>君とまいた 花の種実り 色あせないため心に</p>
                <p>大事にする memory 誓い 無くしたくない so 離さない</p>
                <p>未来のこと これからのこと 何が起こるかわからないけれど</p>
                <p>扉のむこうに待つ 景色の方へと 歩き出そう</p>
                <br />
                <p>僕たちはこれからどこへ行き そこでは何を見る</p>
                <p>今までのこと 今までの顔 忘れずに前を進む</p>
                <br />
                <p>いつの間にか時は流れた 過去の日々はどこへと消えた</p>
                <p>短いようで長かった日々が 流れるのが早すぎた</p>
                <p>少年時代の夢は無限大 広がる世界に希望がいっぱい</p>
                <p>この気持ち neva wanna say"good-bye"</p>
                <p>My 一生涯忘れたくはない</p>
                <br />
                <p>休むことなく地球は巡る その上で僕たち前進む</p>
                <p>それを見る 太陽道照らす 夜には月が僕たち励ます</p>
                <p>これから会う明日よ 君は僕たちとともに</p>
                <p>どこへどう 導くだろう 過去よ今まで マジありがとう</p>
                <br />
                <p>僕たちはこれからどこへ行き そこでは何を見る</p>
                <p>今までのこと 今までの顔 忘れずに前を進む</p>
            </article>

            <p>为啥贴这个？因为「应景切题」吖，除了歌词算作「言」，饶舌效果算作「嗟叹」，织体算「咏歌」之外，视频里面还就有「手舞足蹈」的画面。</p>
            <p>那时候正在关注「<samp>J-Rap</samp>」，而当时正在风头上活跃的艺人就是「<abbr class="who">SoulJa</abbr>」，还按照饶舌传统「<samp>featuring</samp>」了一大堆「<ruby lang="ja">友達<rt>ともだち</rt></ruby>」把同一个旋律演绎多遍。比如下面这三首，旋律一致，织体不同，歌词也不一样，体现了三套「剧情」，第三首还是英语。</p>
            <p>《<a target="_blank" href="https://v.youku.com/v_show/id_XNDI2OTQzNTI=.html">SoulJa featuring 青山テルマ：ここにいるよ</a>》</p>
            <p>《<a target="_blank" href="https://v.youku.com/v_show/id_XMjk1OTkyMTA0.html">SoulJa featuring Yukie：そばにいるね</a>》</p>
            <p>《<a target="_blank" href="https://v.youku.com/v_show/id_XNTc5MzM4NjA=.html">SoulJa featuring SLY &amp; ROBBIE：Hurry Home</a>》</p>
            <p>然后在群里提起来，有疑似来自「九省通衢」的「军网最黄黄网最军」并转进至「国际化大都市」以「华语第一精日论坛」为根据地的伪装成「文艺爱好者」的活跃色目帐号倒打一耙贼喊捉贼造谣污蔑栽赃陷害，质疑我为啥贴「东洋鬼子」的素材。我解释「应景切题」还不管用，于是以当时仍然迅猛的手速连续打字反击，甭说舞蹈、咏歌，连嗟叹都用不着，喷这种纯傻哔只凭「言」就够了。</p>
        </section>
        <section>
            <h2 class="heading">缘起</h2>

            <p>在《<a target="_blank" href="013.html">三自运动小结</a>》当中提到了，作为「在野的职业政治家兼职业神棍」在完成「本职工作」之后，除了「精神病仆街写手不入流码农数学渣」的兼职之外，「业余兴趣爱好」也要挖掘其中所蕴涵的充沛的政治和意识形态内容并仔细分析所体现的政治和意识形态斗争新动向，包括但不限于（之前整理视频素材时重新开始关注的）音乐。</p>
            <p>所以，既然是「言必信行必果硁硁然」的小人，当然要说到做到。正所谓君子立长志，小人常立志；君子一言驷马难追，小人一言（以及嗟叹咏歌舞蹈）历史の五对负重轮难追。</p>
            <p>昨天中午「箪食瓢饮」吃了四盘凉菜喝了四瓶啤酒，庆祝世界杯梅、罗出局。吃完回家打着酒嗝写日记：</p>

            <blockquote>
                <p>今晚罗刹主场倚仗天时地利人和大战西班牙，看看之前裁判组叫嚣着依赖当值主裁判而不是把所有责任交给视频监控人员是不是会发生作用。总之，今晚看完新闻联播之后再码字。</p>
            </blockquote>

            <p>从昨晚十点开始开电视听完了全场一百二十分钟与点球，这假球打的，开赛前就知道结果，还能赔钱的彩民都是不关心政治和意识形态斗争新动向的纯傻哔。</p>
            <p>今天零点四十洗澡，一点到一点半上网看新闻联播重播。前天新闻联播当中关于香港的视频当中演员们还是满口普通话，到今天就改满口「粤语」了。</p>
            <p>至于为什么，因为昨天下午还写了一段日记：</p>

            <blockquote>
                <p>在知道<samp>ReactOS</samp>这克隆<samp>WinNT</samp>的项目之后，立刻就涌现了一个脑洞：为啥不克隆<samp>WinMe</samp>呢。</p>
                <p>之前说过了，因为<samp>WinMe</samp>还是传统的在<samp>16</samp>位<samp>DOS</samp>核心上加了个外壳，不符合<samp>GB-18030</samp>标准才被勒令下架。不过还提到了，<samp>BSD</samp>核心的<samp>macOS</samp>和<samp>Linux</samp>，默认「代码页」就是<samp>UTF-8</samp>，还不带<samp>BOM</samp>，就是为了向后兼容「<samp>Windows-1252</samp>」代码页，也就是美国和西欧的主要客户。</p>
                <p>所以，当时的脑洞就想到了，山寨版没必要提供「<samp>A</samp>」和「<samp>W</samp>」两套<samp>Win32 API</samp>，同样以<samp>UTF-8</samp>为默认内码，提供一套就够了。这样虽然不能二进制兼容，但是所有迄今为止仍然有价值的组件，只要重新编译就可以对应全球化和本地化。</p>
                <p>比方说，<samp>IE</samp>内核被诟病，那么用遵守<samp>W3C</samp>最好的<samp>Mozilla</samp>内核套上<samp>COM/COM+</samp>了伪装成<samp>IE</samp>即可。于是，以前微软兲命昭昭时期全球码农所有既存的学习成本智力投资，包括但不限于<samp>Win32</samp>、<samp>ATL</samp>……都可以继续派上用场。</p>
                <p>顺便，那时候设想的名字是「<samp>Vindows Ne</samp>」简称「<samp>VinNe</samp>」，到了<samp>64</samp>位要改成「<samp>MinWe</samp>」，都是文字游戏<span class="tip">注：现在倾向用「<q lang="la">Fenestrae</q>」</span>。还有，如今知道了<samp>IE</samp>最新版就到「<samp>11</samp>」，再往后是<samp>Edge</samp>了；而<samp>WinXP</samp>上的<samp>DirectX</samp>则到<samp>9.0c</samp>为止。所以，可以用「<samp>Web Navigator</samp>」这种名字伪装<samp>IE</samp>，版本号从<samp>12</samp>开始；而「经典」<samp>DirectX</samp>从「<samp>9.0d</samp>」开始。</p>
            </blockquote>

            <p>所以，在党国高音喇叭当中出场并在民间舆论中被捧为从小比人聪明还比人努力的党国栋梁之「钦定主角龙傲天」团队，其实各个都是纯傻哔，属算盘子的，非得指使钦定红客<samp>24×7</samp>盯着「缩卵怂货窝囊废」的动向，咱拨一拨才肯动一动。</p>
            <p>这不，「人缘好情商高」的「识大体顾大局懂政治讲规矩守纪律」的「择木而栖の良禽」「择主而侍の贤臣」「识时务の俊杰」，纷纷表示情绪稳定并转进如风，立场从「保国」变「倒国」了。</p>
            <p>并且，昨天上午的日记当中还写了下一步的计划：</p>

            <blockquote>
                <p>在<span class="onum">2010</span>年龙空挂掉的时候在群里我说，若是我写论坛，应该是支持汉学、数学、音乐的版式，技术上没有困难，<samp>XML</samp>就够了。所以，当年吹过的牛哔，正在壹壹变为现实，至少解决方案有了，连例子都有了，钦定主角龙傲天爱特么抄不抄。</p>
                <p>再下一篇估计是针对「东洋古典学」的，也是当年说过的，用《春秋三传比义》举例「经传注疏」版式，正好可以把「双语对照」扩展到任意对照。再下一篇就是「西洋学」相关了，比方说维基百科的的多语种释义，可以用手头一堆电子版百科全书当素材。再引申就是各种辞典的版式。</p>
                <p>尚未解决的问题，就是面对纯手工打造的「繁琐」的成果，感觉「公式」还是在源代码内部保持纯文本形式，通过<samp>XSLT</samp>转换为标签嵌套的<samp>MathML</samp>或<samp>HTML</samp>。所以需要一个「翻译器」，可以参考<samp>AsciiMathML.js</samp>和<samp>LaTeXMathML.js</samp>俩脚本，但是有版权。于是可以通过<samp>BNF</samp>写一个递归下降的<samp>Parser</samp>脚本，也找到了一个「<samp>jison</samp>」项目可以自动生成，然后再手改。这个问题搁置。</p>
            </blockquote>

            <p>所以，咱这「言必信行必果硁硁然」的小人，就是这个做派。</p>
        </section>
        <section>
            <h2 class="heading">言归正传</h2>
            <p>在网页和实体版式中支持音乐，肯定需要显示「乐谱」，各种实现都有，那许多音乐书籍的出版都是明证。至于「音乐界」所使用的「软件」，据称被「果粉」垄断，所有更新都先有<samp>Mac</samp>版再有<samp>Win</samp>版以及其它平台。早期各家厂商实现都是自己的标准，交换数据通常使用<samp>MIDI</samp>，而与时俱进一段时间之后，纷纷转向了<samp>MusicML</samp>，目前到了<samp>3.0</samp>版，也是<samp>W3C</samp>推荐规范。</p>
            <p>如果仅从「排版」角度考虑，不用关注音乐制作，有个开源的「<a target="_blank" href="https://musescore.org/">MuseScore</a>」很不错，有汉语界面和汉语帮助文档，支持<samp>Win/Mac/Linux</samp>，感兴趣的朋友可以尝试一把。</p>
            <p>而在网上，当代主流浏览器环境下，有个「<a target="_blank" href="http://www.vexflow.com">VexFlow</a>」，最新版「<samp>1.2.84</samp>」，专攻<samp>HTML5</samp>乐谱渲染，除了通用的五线谱之外，还支持吉它六线指谱。这个方案是纯<samp>ECMAScript</samp>的，在<samp>HTML5</samp>新特性「<samp>Canvas</samp>」上绘制，后台是<samp>SVG</samp>。</p>
            <p>按照官网上的「<samp>Tutorial</samp>」实践一遍，效果是这样的：</p>

            <figure>
                <img src="image/018-001.png" alt="VexFlow" />
                <figcaption><span>VexFlow</span></figcaption>
            </figure>

            <p>虽然页面只有一个「<code>&lt;div id=&quot;boo&quot; /&gt;</code>」剩下都是脚本，但是渲染之后「另存为」，就能看见内嵌的「<samp>SVG</samp>」，篇幅太大就不贴了。</p>
            <p>这「<samp>VexFlow</samp>」是通过「脚本」画乐谱，对于已经存在的乐谱，比如上面提到的开源软件所制作的以<samp>MusicML</samp>形式存在的数据，还有个依赖<samp>VexFlow</samp>的开源项目「<a target="_blank" href="https://opensheetmusicdisplay.org">OpenSheetMusicDisplay</a>」，最新版「<samp>0.3.1</samp>」，除了<samp>ECMAScript</samp>版实现在浏览器内将<samp>MusicML</samp>显示为乐谱之外，还有<samp>TypeScript</samp>版可以在本地处理。</p>
            <p>这个就没有亲自动手实践了，毕竟还没到<samp>1.0</samp>还在继续开发当中。官方站点的<samp>Demo</samp>是这样的：</p>

            <figure>
                <a target="_blank" href="image/018-002.png"><img src="image/018-002.png" alt="OpenSheetMusicDisplay" /></a>
                <figcaption><span>OpenSheetMusicDisplay</span></figcaption>
            </figure>

            <p>注意乐谱右上角，我用红色箭头指向的位置，作曲者的名字与乐谱文字重叠，这是当前发现的一个小问题。除此之外，歌词也能同时显示出来，与一些实体书籍上面的版式相同。就是说，这个解决方案「成熟」之后，完全可以实现仅依靠浏览器环境而在线显示乐谱的功能。</p>
            <p>所以，我吹过的牛哔肯定会实现，但是要切记「功成不必在我」。包括但不限于我在内的费拉不堪的贱种屁民斗胆「创新」不是被武德充沛的腾讯等兲朝特色互联网大鳄指使不超过<samp>34</samp>岁的信息技术精英以<samp>996</samp>精神复制且成功，就是被在音乐圈人缘好情商高的出版界钦定主角龙傲天摘桃子灭口。</p>
            <p>纯傻哔才以为幸福是奋斗出来的然后勒紧裤腰带撸起袖子加油干自带干粮替豪门贵种走兽派卖命，就为了被塞外异族侵略者渗透成筛子一样的党国高音喇叭里面以大漠风情「右划线」标注的什么虚无缥缈的狗屁理想。</p>
        </section>
        <section>
            <h2 class="heading">后记</h2>

            <p>补充解释前面提到的其它「插曲」，内容有点庞杂。</p>
            <p>先说「<samp>Parser</samp>」吧，在「<a target="_blank" href="http://asciimath.org">AsciiMath</a>」主页上已经提供了「<samp>BNF</samp>」：</p>

            <figure>
                <img src="image/018-003.png" alt="AsciiMath BNF" />
                <figcaption><span>AsciiMath BNF</span></figcaption>
            </figure>

            <p>看着这个表格，不超过<samp>34</samp>岁的信息技术精英们眼熟不？如果它们在学校里面按照本专业课表学过「编译原理」的话。</p>
            <p>在<span class="onum">2004</span>年，我的逗哔作品当中有这么一段话：</p>

            <article>
                <p>范含以前确实写过编译器，还写过几个解释器，以及一大堆字符串分析实用程序。</p>
                <p>只不过，这些东西都不是手写的，或者说，除了为了应用而不得不写的一堆例行公事之外，范含并没有做一点实质上的工作。</p>
                <p>不光范含，几乎所有程序员，除了专门写开发工具的那些人之外，几乎都没有自己手写过类似的东西。</p>
                <p>原因就是由于两个著名的实用工具：<samp>lex</samp>和<samp>yacc</samp>。</p>
                <p><samp>Lex</samp>（<samp>Lexical Analyzer Generator</samp>，词法分析生成器）是个产生处理词法分析的代码的工具，而<samp>Yacc</samp>（<samp>Yet Another Compiler Compiler</samp>，另一个编译器的编译器）是个生成编译程序的工具。</p>
                <p>其最终输出是用<samp>C</samp>写的源代码，用C编译器编译后就生成了自己想要的编译器。</p>
                <p>这两个工具如此优秀，以至于老一辈资产阶级编译器开发者到如今也不得不感慨“人心不古”。</p>
                <p>范含用的差不多都是自由的版本：“<samp>flex</samp>”和“<samp>bison</samp>”，都是<samp>GNU</samp>项目的一部分。只有很早的时候用过一个名叫“<samp>tply</samp>”的软件包。顾名思义，这个“<samp>tply</samp>”就是用于“<samp>Turbo Pascal</samp>”的“<samp>Lex</samp>”和“<samp>Yacc</samp>”，用<samp>Pascal</samp>语言做后端，所以非常好用。当年的<samp>DOS</samp>环境下，没有一种开发环境能比<samp>Turbo Pascal</samp>编译速度更快，生成代码效率更高的了，包括各种<samp>C</samp>编译器在内。</p>
            </article>

            <p>我是应用数学专业，不是信息技术专业，当然没学过「编译原理」。不过呢，买过两本书《<samp>lex</samp>与<samp>yacc</samp>》《<samp>flex</samp>与<samp>bison</samp>》，以及其它一大堆「<span lang="en">O&rsquo;Reilly</span>」出品的计算机书籍，境内汉译本的出版社各不相同。</p>
            <p>不过呢，那都是历史唯物主义の尘埃了，过时了，不中用了，被历史の五对负重轮碾为齑粉了。如今与时俱进的童年才俊没人用C了，都在用咱「听都没听过的的新鲜名词」了。所以，还得找个不超过<samp>34</samp>岁的解决方案。</p>
            <p>有个德意志民族神圣罗马帝国教育工作者开发的，开源的「<a target="_blank" href="http://www.ssw.uni-linz.ac.at/Coco/">Coco/R</a>」，除了<samp>C/C++</samp>版之外，还提供了<samp>C#</samp>、<samp>Java</samp>、<samp>F#</samp>、<samp>VB.Net</samp>、<samp>Delphi</samp>版本，还有其它热心人士提供的其它语种版本。</p>
            <p>但是没有<samp>ECMAScript</samp>版，而继续上网乱搜弥补代沟的时候，发现了一个「<a target="_blank" href="http://zaa.ch/jison/">Jison</a>」，目前托管在<samp>GitHub</samp>上的源码是「<samp>0.3.10</samp>」版，而在<samp>Node.js</samp>上面的发布则是「<samp>0.4.6</samp>」版，下载后试验一阵，管用。</p>
            <p>自动生成的代码比较繁琐，为了效率和维护性就需要手改了。就看<samp>AsciiMath</samp>的源码，也是疑似手写或手改的「递归下降」正统流程。于是解决方案之可行性分析结束，结论「所吹牛哔能实现」，对策「搁置」，注明原因「与钦定主角龙傲天抢戏」。</p>
        </section>
        <section>
            <h2 class="heading">后记（续）</h2>

            <p>顺便，曾经在知乎首页推荐当中极大充沛的不超过<samp>34</samp>岁的童年码农，掀起了一场又一场「<samp>PHP</samp>是最好的语言」「不！<samp>GO</samp>才是」「呔！不用<samp>Python</samp>乃逆潮流而动」「呸！不用<samp>Java™</samp>乃自绝于人民」之类真理标准大讨论。</p>
            <p>这时候老迈年高的我就不掺和了，因为除了在学校里面根据辅修专业课程学过<samp>Fortran</samp>和<samp>C/C++</samp>之外，上班后依据岗位需求自学过<samp>C#</samp>，其它都是根据兴趣爱好浅尝辄止。于是样样通样样松，一瓶子不满半瓶子晃荡，不值一提。</p>
            <p>但是呢，如果从应用数学专业而不是信息技术专业角度观察，适合掌握「计算机原理」的语言，应该是<samp>Lisp/Scheme</samp>，教材应该是《计算机程序的构造和解释（原书第二版）》（<span lang="en">«Structure and Interpretation of Computer Programs, 2nd Edition»</span>），<span class="onum">1996</span>年出品。据称乃<samp>MIT</samp>专业课「<samp>SICP/6.001</samp>」，而<span class="onum">2008</span>年之后也不教了。</p>
            <p>看到这里，肯定有不超过<samp>34</samp>岁的童年码农如同在知乎首页推荐当中那样掀起「<samp>Vim</samp>是最好的编辑器」「不！<samp>Emacs</samp>才是」之类真理标准大讨论，并根据「<b><samp>VIM</samp>作者在作品首页号召给乌干达饿殍捐款</b>」而「<b><samp>Emacs</samp>作者乃开源运动先驱赛博朋克英特纳雄耐尔主义者</b>」的事实，而进行政治和意识形态领域的站队。</p>
            <p>于是，对于也有《学习<samp>VI</samp>编辑器》《学习<samp>GNU Emacs</samp>》这两本「<span lang="en">O&rsquo;Reilly</span>」出品书籍的我，若要掺和一定会深入剖析童年码农措辞中蕴涵的政治和意识形态内容并揭示政治和意识形态斗争新动向。</p>
            <p>本职工作相关话题暂时略过，就提供兼职数学渣视角的判断。</p>
            <p>这与最近关注的<samp>MathML</samp>技术相关。目前随笔中用到的<samp>MathML</samp>，其实只是一部分，唤作「<samp>Presentation MathML</samp>」，和<samp>LaTeX</samp>之类排版语言没区别。而另外一部分唤作「<samp>Content MathML</samp>」，则关注符号的语义。</p>
            <p>用维基百科上面的例子说明。表达式「<span class="math">ax² + bx + c</span>」写成「<samp>Content MathML</samp>」是这样的：</p>

            <pre class="code">&lt;math&gt;
    &lt;apply&gt;
        &lt;plus/&gt;
        &lt;apply&gt;
            &lt;times/&gt;
            &lt;ci&gt;a&lt;/ci&gt;
            &lt;apply&gt;
                &lt;power/&gt;
                &lt;ci&gt;x&lt;/ci&gt;
                &lt;cn&gt;2&lt;/cn&gt;
            &lt;/apply&gt;
        &lt;/apply&gt;
        &lt;apply&gt;
            &lt;times/&gt;
            &lt;ci&gt;b&lt;/ci&gt;
            &lt;ci&gt;x&lt;/ci&gt;
        &lt;/apply&gt;
        &lt;ci&gt;c&lt;/ci&gt;
    &lt;/apply&gt;
&lt;/math&gt;
</pre>

            <p>这个写法对应<samp>Scheme</samp>语句：</p>

            <pre class="code">(plus (times a (power x 2)) (times b x) c)</pre>

            <p>也就是说，对于一些数学软件，运用「<samp>Content MathML</samp>」作为数据交换格式则更合适。比方说目前已经集成在「<samp>SageMath</samp>」当中的符号计算软件「<samp>Maxima</samp>」就是<samp>Lisp</samp>写的，在「市场经济」大潮中输给了从「南不列颠及北爱尔兰联合王国」<strong>骨肉相连移民</strong>到「美帝灯塔国」的从小比人聪明还比人努力的神童大少爷<abbr class="who">Stephen Wolfram</abbr>出品的「<samp>Mathematica</samp>」。</p>
            <p>所以，我觉得应用数学专业辅修计算机课程的时候应该率先讲授<samp>Lisp/Scheme</samp>语言，有什么不对么？</p>
        </section>
        <section>
            <h2 class="heading">后记（再续）</h2>

            <p>再说「山寨版」<samp>Windows</samp>吧。与「模拟器」<samp>Wine</samp>紧密合作的<samp>ReactOS</samp>，最初计划是<span class="onum">1996</span>年的「<samp>FreeWin95</samp>」，但没有进展，而<span class="onum">1998</span>年启动的时候，山寨目标已经改成<samp>WinNT</samp>，细节请各位自行搜索。</p>
            <p>所以，昨天下午日记当中写下的脑洞，其实已经存在十余年了。这还是因为「精神病仆街写手不入流码农数学渣」的职业习惯之一「思路广欢乐多」。</p>
            <p>按照童年码农的说法，由于咱「老迈年高命不好」，职业生涯在微软兲命昭昭的笼罩之下，钦定过时的「知识结构」局限于微软技术栈，必将成为在风起云涌的兲朝崛起过程中被「听都没听说过的新鲜名词」革命大浪淘掉的反革命砂。</p>
            <p>就在当代童年码农还是少先队员成天手舞足蹈且咏歌着「接班」的时候，咱就知道了<samp>Linux</samp>和<samp>Mac OS X</samp>，还买过并非<samp>Intel</samp>架构的<samp>iBook G4</samp>，进行过浮光掠影浅尝辄止的沐猴而冠叶公好龙。因为当年兲朝尚未崛起，境外媒体不会动辄惊呼兲朝不可战胜，境外软件开发商不会重视兲朝市场，所以那时候的我如同其它同龄码农和普通用户一样，最先关注的是「乱码」问题。</p>
            <p>不展开了，就说之前在知乎首页推荐中看到的，「<samp>Microsoft™©® NotePad</samp>」和「侯今吾<samp>™©® NotePad++</samp>」之真理标准大讨论。真理标准似乎存在于保存以「<samp>UTF-8</samp>」编码的文件的时候，前面是否加上<samp>BOM</samp>文件头。</p>
            <p>结论很简单，说过了<samp>Unicode</samp>官方标准使用<samp>BOM</samp>文件头，微软好歹高举紧跟有觉悟，而现实使用中需要具体情况具体分析。</p>
            <p>哪怕在学校里「抱着一本谭浩强成天『<code>i++</code>、<code>++i</code>、<code>i+++++i</code>』的做填空题」的见不多识不广的贱种屁民学生都知道，打开文件有文本模式和二进制模式。这两种模式在<samp>Windows</samp>下有明显区别，而在「<samp>Unix-Like</samp>」操作系统则没有，全是字节流。</p>
            <p>这么多年来<samp>Unix</samp>乃至衍生的操作系统，如同其它冷战期间在国防预算扶持的各种项目中产生的技术一样，都是立足美帝灯塔国本土市场坚持使用<samp>ASCII</samp>内码并不需要任何特殊说明，有余力才兼顾其它多元文化。而有余力的情况下还需要「向后兼容」，尤其是那些连续运行几十年的大型机巨型机的后续产品。</p>
            <p>所以，从美帝灯塔国标准「<samp>ASCII</samp>」到兼顾西欧的标准「<samp>ISO-8859-1</samp>」或「<samp>Windows-1252</samp>」，是向后兼容的；而从「<samp>Windows-1252</samp>」到「<samp>UTF-8</samp>」，仍然是向后兼容的。对于「<samp>Unix-Like</samp>」用户来说，老用户不需要改变，新用户则意识不到改变。理性客观公正中立的说，「<samp>UTF-8</samp>」编码之下，文件开头的「<samp>BOM</samp>」标记对「<samp>Unix-Like</samp>」是多余的。</p>
            <p>到这里，有「举一反三」能力的读者，应该能猜到上面提到的「脑洞」之产生过程了。因为微软曾经「新打鼓另开张」过，就是「<samp>Windows NT</samp>」，其中「<samp>NT</samp>」是「新技术」的缩写，从内核级别开始重写，最初目标当中除了自家<samp>Win32</samp>之外，还有<samp>POSIX</samp>和<samp>OS/2</samp>两个子系统。</p>
            <p>而「<samp>Unicode</samp>」这个字眼，其狭义指代「<samp>UTF-16</samp>」这种由两个字节表示的最多<samp>65536</samp>个字符的标准。微软在<samp>WinNT</samp>中就使用了这个当时「足够」先进且有「足够」扩展可能的标准。</p>
            <p>到了科技昌明民智大开多元文化遍地开花的当代，用户开始普遍感觉到其扩展性「不够」了，还甭提那些依赖<samp>emoji</samp>的童年用户和依赖数学符号的专业用户，就是纯粹多语种文字编码都不够用。</p>
            <p>所以，以当代视角观察，可扩展性最好的，还就是变长编码「<samp>UTF-8</samp>」，而微软作为「先驱者」而遭到了「历史の嘲弄」。在包括但不限于加利福尼亚州的各蓝色文艺重镇的「文艺工作者」看来，真是「激化矛盾制造冲突增加剧情跌宕起伏程度」的好素材吖。</p>
            <p>这就是说，当时虽然娱乐至死の逗哔们还没有认清我「精神病仆街写手不入流码农数学渣」的真面目，但是我已经在贯彻「思路广欢乐多」之类职业习惯了。看到<samp>ReactOS</samp>相关消息的第一反应，就是「怎么重走微软走过的弯路呢？」这种不伟大不光荣不正确的歪理邪说。</p>
            <p>顺便，老迈年高的码农都知道，<samp>Win32 API</samp>有两套，函数名最后带「<samp>A</samp>」的以<samp>ASCII</samp>字符为单位进行处理，对于多字节表示的字符需要依赖「代码页」设定；而带「<samp>W</samp>」的则是以<samp>Unicode</samp>字符也就是两个字节（<samp>BYTE</samp>）或一个字（<samp>WORD</samp>）为单位处理；什么都不带的则是个根据编译设定自动选择的字面替换宏定义。</p>
            <p>因此，当时的脑洞就想到了，不需要提供「<samp>W</samp>」版，修改内核使得「<samp>A</samp>」版支持「<samp>UTF-8</samp>」就够了。这不是对微软的建议，因为微软早就在「<samp>NT</samp>」一条路上走到现在了，最新的<samp>Win10</samp>都这样。</p>
            <p>作为史上最成功的操作系统，<samp>WinXP</samp>为微软带来了一大批用户和客户。全球所有领域的企业、机构、组织，只要有信息化数字化进行计算机处理的需求，则在此基础上积累了一大堆赛博朋克资产。要求普通用户而不是玩家、极客、骇客、黑客……为了打烂一个旧世界的革命目的而毁家纾难，实在太过分。</p>
            <p>再说几句。日记里提到了用<samp>Mozilla</samp>内核伪装IE，还起名「<samp>Web Navigator</samp>」，肯定会有人联想到当年由于<samp>IE</samp>绑定在<samp>Windows</samp>之内而导致「网景」惨败的旧事。</p>
            <p>不过从技术角度讲，唤作「<samp>IE</samp>」的这个软件包的「安装」单位，可不仅仅是那个窗口以及附带的<samp>Trident</samp>排版引擎，能显示<samp>HTML</samp>就算成功，如今码农都知道<samp>Web</samp>技术依赖多少内容和模块，支持<samp>ECMAScript</samp>还仅仅是基本需求。</p>
            <p>另外，日记里还提到了「<samp>DirectX</samp>」，于是昨晚爬起来之后上网乱转，又发现了娱乐至死の逗哔炒作「电子竞技选手」炫耀手速相关段子、截图、短视频。咱只能说，这批忠君爱国与时俱进童年才俊也就这点见识了。</p>
            <p>从码农角度讲，在最新的跨平台的「<samp>.Net Core</samp>」当中，仅限<samp>Windows</samp>环境的组件，是「桌面应用的图形用户界面」：<samp>WinForm</samp>、<samp>WPF</samp>。前者依赖「<samp>GDI+</samp>」，还是<samp>Win32</samp>的扩展，效果好了点，但不能使用硬件加速；后者则依赖「<samp>DirectX</samp>」，可以利用显卡功能提供硬件加速，实现更充沛的效果。</p>
            <p>这是历史遗留问题，山寨版当然要考虑到。实际上现在<samp>ReactOS</samp>也考虑到了。只要这些基础组件山寨成功，<samp>WinForm/WPF</samp>应用就能运行；而只要这些组件移植成功，桌面应用也能跨平台。</p>
            <p>注意，「跨平台图形用户界面」的第三方实现很多了，哪怕是<samp>.Net</samp>阵营，都有「<samp>Qt#</samp>」、支持<samp>Linux</samp>的「<samp>GTK#</samp>」，以及支持<samp>macOS</samp>的「<samp>Cocoa#</samp>」，再移植纯种<samp>WinForm</samp>和<samp>WPF</samp>，微软认为并不划算。</p>
            <p>而不从「市场经济」角度出发的山寨版就没有这个顾虑，并且也不需要把微软的责任肩负在自己身上，更不需要追踪最新显卡进展。只要<samp>GDI+</samp>和<samp>DirectX</samp>能移植，就能保护迄今为止全球企业、机构、组织积累的赛博朋克资产，以及老迈年高码农针对微软技术栈所消耗的智力投资。</p>
        </section>
        <section>
            <h2 class="heading">后记（还续）</h2>

            <p>扯了这么远之后，在本篇随笔最后的最后，需要与开头相呼应了。</p>
            <p>在<span class="onum">2004</span>年，于逗哔时期的逗哔作品的《加入<samp>VIP</samp>声明（外篇）》当中，有这么一段话：</p>

            <article>
                <p>可能有朋友想不明白怎么会有那么多书值得一买，这也好办，在北京的朋友请到美术馆东路的“三联韬奋图书中心”去看看，地下一层，都是各种社科类图书。</p>
                <p>我没事儿就去那儿逛，有钱的时候，那些丛书，都是整套搬回去的。</p>
                <p>当然，也有零敲碎打的，人民音乐出版社的“音乐自学丛书”，我买的第一本是九零年一版一刷的《作曲卷·基本乐理教程》，到现在等了十几年了，这一套还没出完，还剩下“音乐学卷”的三本：《中国近现代音乐史》、《拉丁美洲音乐文化》、《中国民族器乐》，估计奥运会前恐怕是没戏。</p>
            </article>

            <p>现在反思，当时对兲朝「出版界」的期待还是太高了，开放的「国际一流和谐宜居之都」招待全球各色太君参加奥运，已经十年过去了。其中《拉丁美洲音乐文化》已经出版，但我没注意到。</p>
            <p>而《中国近现代音乐史》《中国民族器乐》，以及《说唱音乐（暂名）》这三本，我到现在终于没有见，大约这几本的确不出了。</p>
            <p>没准在出版界精英钦定主角龙傲天的领导下，「人民」俩字会从「音乐出版社」头上摘掉。</p>
        </section>
    </main>
    <div class="signature">
        <p><span class="sign-time">2018-07-02</span></p>
        <hr class="sign-name" />
        <hr class="sign-room" />
    </div>
</body>

</html>